var r,t,e,o=(r="--key start -- ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/= --key end--",{encode:function(e){var o,a,n,d,c,i,h,f="",C=0;for(e=t(e);C<e.length;)d=(o=e.charCodeAt(C++))>>2,c=(3&o)<<4|(a=e.charCodeAt(C++))>>4,i=(15&a)<<2|(n=e.charCodeAt(C++))>>6,h=63&n,isNaN(a)?i=h=64:isNaN(n)&&(h=64),f=f+r.charAt(d)+r.charAt(c)+r.charAt(i)+r.charAt(h);return f},decode:function(t){var o,a,n,d,c,i,h="",f=0;for(t=t.replace(/[^A-Za-z0-9\+\/\=\ \--]/g,"");f<t.length;)o=r.indexOf(t.charAt(f++))<<2|(d=r.indexOf(t.charAt(f++)))>>4,a=(15&d)<<4|(c=r.indexOf(t.charAt(f++)))>>2,n=(3&c)<<6|(i=r.indexOf(t.charAt(f++))),h+=String.fromCharCode(o),64!==c&&(h+=String.fromCharCode(a)),64!==i&&(h+=String.fromCharCode(n));return h=e(h)},_utf8_encode:t=function(r){r=r.replace(/\r\n/g,"\n");for(var t="",e=0;e<r.length;e++){var o=r.charCodeAt(e);o<128?t+=String.fromCharCode(o):o>127&&o<2048?(t+=String.fromCharCode(o>>6|192),t+=String.fromCharCode(63&o|128)):(t+=String.fromCharCode(o>>12|224),t+=String.fromCharCode(o>>6&63|128),t+=String.fromCharCode(63&o|128))}return t},_utf8_decode:e=function(r){for(var t="",e=0,o=0,a=0,n=0;e<r.length;)(o=r.charCodeAt(e))<128?(t+=String.fromCharCode(o),e++):o>191&&o<224?(a=r.charCodeAt(e+1),t+=String.fromCharCode((31&o)<<6|63&a),e+=2):(a=r.charCodeAt(e+1),n=r.charCodeAt(e+2),t+=String.fromCharCode((15&o)<<12|(63&a)<<6|63&n),e+=3);return t}}),a=function(r){var t=r.options,e=r.store,a=t.lasting;if(a){var n=a.encrypt,d=a.key,c=void 0===d?e.$id:d,i=a.paths,h=a.storage,f=void 0===h?sessionStorage:h,C=n&&f.getItem(c)?JSON.parse(o.decode(f.getItem(c))):JSON.parse(f.getItem(c));e.$patch(C),e.$subscribe((function(){var r={};"[object Array]"==Object.prototype.toString.call(i)?i.forEach((function(t){"string"==typeof t&&(r[t]=e.$state[t])})):r=e.$state;var t=n?o.encode(JSON.stringify(r)):JSON.stringify(r);f.setItem(c,t)}),{detached:!0})}};export{a as default};
